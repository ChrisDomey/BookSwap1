<body class="bookswap-body-white">

    <style>
            body {font-family: Arial, Helvetica, sans-serif;}

            /* The Modal (background) */
            .modal {
                display: none; /* Hidden by default */
                position: fixed; /* Stay in place */
                z-index: 1; /* Sit on top */
                padding-top: 100px; /* Location of the box */
                left: 0;
                top: 0;
                width: 100%; /* Full width */
                height: 100%; /* Full height */
                overflow: auto; /* Enable scroll if needed */
                background-color: rgb(0,0,0); /* Fallback color */
                background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            }

            /* Modal Content */
            .modal-content {
                background-color: #fefefe;
                margin: auto;
                padding: 20px;
                border: 1px solid #888;
                width: 550px;
                /*text-align: center;*/
                align-items: center;
            }

            /* The Close Button */
            .modal-close-btn {
                display: inline-block;
                color: #aaaaaa;
                float: right;
                font-size: 28px;
                font-weight: bold;

                position: absolute;
                right: 15px;
                top: 8px;

                cursor: pointer;
            }

            .close:hover,
            .close:focus {
                color: #000;
                text-decoration: none;
                cursor: pointer;
            }
    </style>




    <div class="form-container-mybooks">
        <h1 class="text-color2 pt-50">My Books</h1>
        <div>

            {{#each data}}

            <div class="book-block">
                <button id="myBtn">Open Modal</button>

                <div id="myModal" class="modal">
                  
                  <div>
                    
                    <div class="modal-content">
                        <div class="modal-close-wrapper"><span class="modal-close-btn">&times;</span></div>
                        <p class="wishlist-details-title">{{this.book.title}}</p>
                        <p class="mb-30">By<span class="wishlist-details-value"> {{this.book.author}}</span></p>
                        <p>Contact Email</p>
                        <div class="mb-10"><input type="email" name="" value={{this.book.author}} style="border-radius: 15px; width: 200px;"></div>
                        <button class="btn btn-primary" style="width: 60px; border-radius: 15px;">Copy</button>
                    </div>
                  </div>

                </div>



                <hr style="margin-top: 25px;">

                <div class="mybooks-entry pb-30">
                    <div class="book-img">
                        <img class="book-img-element" src="/img/no-image-available.jpg">
                    </div>

                    <div class="mybooks-detail">
                        <h2 class="mybooks-detail-title">{{this.book.title}}</h2>
                        <h5 class="mybooks-detail-name">By <span class="mybooks-detail-value">{{this.book.author}}</span></h5>

                        <div class="mybooks-detail-left pt-10">
                            <h5 class="mybooks-detail-name">Published <span class="mybooks-detail-value">by {{this.book.publisher}}</span></h5>
                            <h5 class="mybooks-detail-name">ISBN: <span class="mybooks-detail-value">{{this.ISBN}}</span></h5>
                            <h5 class="mybooks-detail-name">Edition: <span class="mybooks-detail-value">{{this.book.edition}}</span></h5>
                            <h5 class="mybooks-detail-name">Uploaded: <span class="mybooks-detail-value">6.4.2017</span></h5>
                        </div>

                        <div class="mybooks-detail-right pt-10">
                            <h5 class="mybooks-detail-name">Condition: <span class="mybooks-detail-value">{{this.condition}}</span></h5>
                            <h5 class="mybooks-detail-name">Binding: <span class="mybooks-detail-value">{{this.book.state}}</span></h5>
                            <h5 class="mybooks-detail-name">Status: <span class="mybooks-detail-value">{{this.status}}</span></h5>
                            <h5 class="mybooks-detail-name">Type: <span class="mybooks-detail-value">{{this.transaction}}</span></h5>
                        </div>

                    </div>

                    <div class="mybooks-additional">
                        <h5 class="mybooks-color1">Posted 9.13.17</h5>
                        <button type="submit" class="btn btn-lg sold-book-button soldBookBtn" id="round">$ SOLD THIS BOOK</button>
                        <button type="submit" class="btn btn-lg sold-book-button" id="round">SWAPPED THIS BOOK</button>
                        
                    </div>
                    
                </div>
            </div>
            {{/each}}
        </div>
    </div>



    <script type="text/javascript">

        $(document).ready(function() {
            var modal = document.getElementById('myModal');
            var btn = document.getElementsByClassName('soldBookBtn');
            var closeModalBtn = document.getElementsByClassName('modal-close-btn');


            $(btn).click(function(e){
                // console.log($(this).closest('.book-block').find('#myModal'));
                $(this).closest('.book-block').find('#myModal').css('display', 'block');
                // modal.style.display = "block";
                
                // console.log($(this).closest('.mybooks-entry').find('.mybooks-detail-title').text());

            });


            // btn.onclick = function(e) {
            //     modal.style.display = "block";
            //     console.log($(this).closest('.mybooks-entry').find('.mybooks-detail-title').val());
            // }

            $(closeModalBtn).click(function() {
                $(this).closest('#myModal').css('display', 'none');
            });

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        });
    </script>

</body>